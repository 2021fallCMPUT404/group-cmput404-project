{% extends 'posts/base.html' %}



{% block content %}
{% load markdown_ext %}

<div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
    <div class="nav-scroller bg-body shadow-sm " >
        <nav class="nav nav-underline utt" aria-label="Secondary navigation">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"><a href="{% url 'users:t03_posts' %}">Group 3 Posts</a></li> 
                <li class="nav-item"><a href = '{%  url "t15-posts" %}'>UNHINDLED (Group 15)</a></li>
        
            </ul>
        </nav>
    </div>
</div>




<br>

<br><br>
<h1  style="font-family: Dancing Script; font-size: 5rem;" >Explore the post</h1>
{% if latest_post_list %}


    <br>
    
    {% for posts in latest_post_list %}
    
    <div class="container border border-4 border-secondary rounded-4" >
        <div class=container " style="border: 1cm ;">
        <br>
        <h4 style="margin-right: 80%; ;"><img src="{{ posts.author.user_profile.profileImage.url }}" width="60px" height="60px" style="border: 0.3px solid;"> {{posts.author}} </h4>
        {%if not posts.shared_user and current_user == posts.author %}
        <a href="{% url 'editpost' posts.pk %}" class='btn btn-secondary ' style="margin-left:80%; border-radius: 1rem;"><i class="fa fa-pencil-square-o"></i> Edit</a>
    
        {% endif %}
        <br>
        
        

        </div>
    
        <div class="container-md">
        <a href="/post/{{ posts.id }}/" class="addpost-header">
            {%if not posts.shared_user%}
                <h2 style="overflow: hidden; text-overflow: ellipsis;">{{ posts.title }}</h2>
            {%else%}
                <h2  style="overflow: hidden; text-overflow: ellipsis;">Repost: {{ posts.title }}</h2>
            {% endif %}

            </a>
        <br>
        </div>

        {%if posts.contentType == 1 %}
            <p style="overflow: hidden; text-overflow: ellipsis; text-decoration: underline;">{{ posts.text | markdown | safe }}</p>
        {%else%}
            <p style="overflow: hidden; text-overflow: ellipsis; text-decoration: underline;">{{ posts.text }}</p>
        {% endif %}
        <br>
        {% if posts.image %}
        <img src='{{posts.image.url}}' width="60%">
        {% endif %}




        <br>
        <br>
        <hr class="mt-2 mb-3"/>
        <p > Published at:  {{posts.pub_date}} 
            {%if posts.privacy == 0%}
                <i class="fa fa-globe"></i>
            {%else%}
                <i class="fa fa-users"></i>
            {%endif%}
            {%if posts.shared_user%}
            <p style="font-style: italic;">Shared by {{ posts.shared_user }}</p>
            {% endif %}

        </p>
    </div>
    <br>
    {% endfor %}
    
    
    {% else %}
    <br><br><br>
    
    <h1 style="font-family: Fredoka One;">Oops! No posts are available.</h1>
    {% endif %}
    

<a class='return' href="{% url 'users:user_home_page' %}"><i class="fa fa-arrow-left"></i> Go Back</a>

{% endblock content %}