{% extends 'users/base.html' %}
{% block content %}
{% load static %}
{% csrf_token %}
<script src="{% static 'javascript/requests.js' %}" type="text/javascript"></script>
<div class="container">
<h1> {{user.displayName}} Follows List </h1>
{% if followers_list %}
    <h4>{{user.displayName}} is being followed by: </h4>
    <div class="list-group" id='followers'>
        {% for follower in followers_list %}
            <div class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
            <a href="{% url 'users:placeholder' User_id=follower.actor.user.id%}">
            <img src="{{follower.actor.profileImage.url}}" alt="NO IMAGE" class="rounded-circle flex-shrink-0" width='60px' height="60"></a>
                <div class='d-flex gap-3 w-100 justify-content-between'>
                    <div>
                        <h2 class = "mb-0">{{follower.actor.displayName}} </h2>
                        <p>{{follower.actor.bio}}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p> {{user.displayName}}  has no followers :( </p>
{% endif %}

<h1> <br>{{user.displayName}} Following List </h1>
{% if follows_list %}
<h4>{{user.displayName}} is following: </h4>
<div class="list-group" id="follows">
    {% for followed in follows_list %}
        <div class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
        <a href="{% url 'users:placeholder' User_id=followed.object.user.id%}">
        <img src="{{followed.object.profileImage.url}}" alt="NO IMAGE" class="rounded-circle flex-shrink-0" width='60px' height="60"></a>
            <div class='d-flex gap-3 w-100 justify-content-between'>
                <div>
                    <h2 class = "mb-0">{{followed.object.displayName}} </h2>
                    <p>{{followed.object.bio}}</p>
                </div>
                <input aria-current="true"type="button" onclick="unfollowUser({{followed.object.user.id}}, {{user.user.id}});" value="Unfollow">
            </div>
        </div>
        
        
        
            <!--<img class="rounded-circle flex-shrink-0" width="32" height="32"src='/media/images/users/user_1/background_4E81jiR.gif' alt="https://github.com/twbs.png">-->
        

        <!--TODO: GET USER PROFILE IMAGE TO DISPLAY BESIDE THEIR USERNAME-->
    {% endfor %}
<a class='return' href="{% url 'users:user_home_page' %}"><i class="fa fa-arrow-left"></i> Go Back</a>
</div>
{% else %}
<p> {{user.displayName}}  is not following anybody </p>
{% endif %}
{% endblock content %}
